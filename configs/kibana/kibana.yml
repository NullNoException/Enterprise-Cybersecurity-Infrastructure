# Kibana Configuration
# For CyberLab Security Infrastructure

# =================== Kibana Configuration ===================

# Kibana is served by a back end server. This setting specifies the port to use.
server.port: 5601

# Specifies the address to which the Kibana server will bind. IP addresses and host names are both valid values.
# The default is 'localhost', which usually means remote machines will not be able to connect.
# To allow connections from remote users, set this parameter to a non-loopback address.
server.host: "0.0.0.0"

# Enables you to specify a path to mount Kibana at if you are running behind a proxy.
# Use the `server.rewriteBasePath` setting to tell Kibana if it should remove the basePath
# from requests it receives, and to prevent a deprecation warning at startup.
# This setting cannot end in a slash.
#server.basePath: ""

# Specifies whether Kibana should rewrite requests that are prefixed with
# `server.basePath` or require that they are rewritten by your reverse proxy.
#server.rewriteBasePath: false

# Specifies the maximum payload size in bytes for incoming server requests.
server.maxPayload: 1048576

# The Kibana server's name. This is used for display purposes.
server.name: "kibana"

# =================== Elasticsearch Configuration ===================

# The URLs of the Elasticsearch instances to use for all your queries.
elasticsearch.hosts: ["http://elasticsearch:9200"]

# If your Elasticsearch is protected with basic authentication, these settings provide
# the username and password that the Kibana server uses to perform maintenance on the Kibana
# index at startup. Your Kibana users still need to authenticate with Elasticsearch, which
# is proxied through the Kibana server.
elasticsearch.username: "elastic"
elasticsearch.password: "${ELASTICSEARCH_PASSWORD}"

# Kibana can also authenticate to Elasticsearch via "service account tokens".
# Service account tokens are Bearer style tokens that replace the traditional username/password based configuration.
# Use this token instead of a username/password.
# elasticsearch.serviceAccountToken: "my_token"

# Time in milliseconds to wait for Elasticsearch to respond to pings. Defaults to the value of
# the elasticsearch.requestTimeout setting.
#elasticsearch.pingTimeout: 1500

# Time in milliseconds to wait for responses from the back end or Elasticsearch. This value
# must be a positive integer.
elasticsearch.requestTimeout: 30000

# The maximum number of sockets that can be used for communications with elasticsearch.
# Defaults to `Infinity`.
#elasticsearch.maxSockets: 1024

# Specifies whether Kibana should use compression for communications with elasticsearch
# Defaults to `false`.
#elasticsearch.compression: false

# List of Kibana client-side headers to send to Elasticsearch. To send *no* client-side
# headers, set this value to [] (an empty list).
#elasticsearch.requestHeadersWhitelist: [ authorization ]

# Header names and values that are sent to Elasticsearch. Any custom headers cannot be overwritten
# by client-side headers, regardless of the elasticsearch.requestHeadersWhitelist configuration.
#elasticsearch.customHeaders: {}

# Time in milliseconds for Elasticsearch to wait for responses from shards. Set to 0 to disable.
#elasticsearch.shardTimeout: 30000

# =================== SSL/TLS Configuration ===================

# Optional settings that provide the paths to the PEM-format SSL certificate and key files.
# These files are used to verify the identity of Kibana to Elasticsearch and are required when
# xpack.security.http.ssl.client_authentication in Elasticsearch is set to required.
#elasticsearch.ssl.certificate: /path/to/your/client.crt
#elasticsearch.ssl.key: /path/to/your/client.key

# Optional setting that enables you to specify a path to the PEM file for the certificate
# authority for your Elasticsearch instance.
#elasticsearch.ssl.certificateAuthorities: [ "/path/to/your/CA.pem" ]

# To disregard the validity of SSL certificates, change this setting's value to 'none'.
elasticsearch.ssl.verificationMode: none

# =================== Kibana Monitoring Configuration ===================

# Enables you to specify a file where Kibana stores log output.
logging.dest: stdout

# Set the value of this setting to true to suppress all logging output.
#logging.silent: false

# Set the value of this setting to true to suppress all logging output other than error messages.
#logging.quiet: false

# Set the value of this setting to true to log all events, including system usage information
# and all requests.
#logging.verbose: false

# =================== Kibana Security Configuration ===================

# Enables X-Pack security features
xpack.security.enabled: true

# Encryption key for stored objects
xpack.encryptedSavedObjects.encryptionKey: "a7a6311933d3503b89bc2dbc36572c33a6c10925682e591bffcab6911c06786d"

# Reporting encryption key
xpack.reporting.encryptionKey: "b7b6311933d3503b89bc2dbc36572c33b6c10925682e591bffcab6911c06786e"

# Security encryption key
xpack.security.encryptionKey: "c7c6311933d3503b89bc2dbc36572c33c6c10925682e591bffcab6911c06786f"

# Session timeout (in milliseconds)
xpack.security.session.idleTimeout: 1800000
xpack.security.session.lifespan: 86400000

# =================== Kibana Spaces Configuration ===================

# The maximum allowed bhp logo file size in bytes. Use this setting to limit the size of images that are uploaded.
#xpack.spaces.maxSpaces: 1000

# =================== Monitoring Configuration ===================

# Enables monitoring in Kibana
monitoring.ui.container.elasticsearch.enabled: true
monitoring.ui.enabled: true

# =================== Alerting Configuration ===================

# Enable alerting
xpack.alerting.enabled: true

# =================== Maps Configuration ===================

# Enable maps
xpack.maps.enabled: true

# =================== APM Configuration ===================

# Enable APM
#xpack.apm.enabled: false

# =================== Canvas Configuration ===================

# Enable Canvas
xpack.canvas.enabled: true

# =================== Graph Configuration ===================

# Enable Graph
xpack.graph.enabled: true

# =================== Machine Learning Configuration ===================

# Enable Machine Learning
xpack.ml.enabled: true

# =================== Reporting Configuration ===================

# Enable reporting
xpack.reporting.enabled: true

# Reporting roles
xpack.reporting.roles.enabled: false

# =================== Telemetry Configuration ===================

# Enables sending telemetry data to Elastic
telemetry.enabled: false
telemetry.optIn: false

# =================== Custom Branding ===================

# Custom branding for CyberLab
#server.customResponseHeaders: { "X-CyberLab": "Security-Monitoring" }

# =================== Index Patterns ===================

# Default index patterns
#kibana.defaultAppId: "discover"

# =================== Development Configuration ===================

# Enables you to run Kibana in development mode
#env: "production"

# =================== Logging Configuration ===================

# Logging configuration
logging:
  appenders:
    console:
      type: console
      layout:
        type: pattern
        pattern: "[%date][%level][%logger] %message"
  root:
    appenders: [console]
    level: info

  loggers:
    - name: plugins
      level: info
    - name: server
      level: info
    - name: optimize
      level: warn
    - name: telemetry
      level: warn
    - name: metrics.ops
      level: warn

# =================== Server Options ===================

# The maximum payload size in bytes for incoming server requests.
server.maxPayloadBytes: 1048576

# The number of milliseconds to wait before closing an idle socket.
#server.socketTimeout: 120000

# The number of milliseconds to wait before timing out a request.
#server.requestTimeout: 30000

# =================== CORS Configuration ===================

# Enable CORS for API endpoints
#server.cors.enabled: false
#server.cors.allowOrigin: ["*"]
#server.cors.allowCredentials: false

# =================== Status Page Configuration ===================

# Controls whether the status page is available
#status.allowAnonymous: false

# =================== i18n Configuration ===================

# The locale to use for Kibana
#i18n.locale: "en"

# =================== Data Views Configuration ===================

# Maximum number of data view fields
#data_views.scriptedFieldsEnabled: true

# =================== Deprecation Warnings ===================

# Show deprecation warnings in the UI
#deprecations.skip_deprecated_settings: []

# =================== Saved Objects ===================

# Maximum number of saved objects that can be imported at once
#savedObjects.maxImportPayloadBytes: 26214400

# =================== Vis Defaults ===================

# Default time range
#visualization.dateHistogram.maxBars: 100

# =================== Enterprise Search ===================

# Enterprise search host
#enterpriseSearch.host: ""

# =================== Fleet Configuration ===================

# Fleet server hosts
#xpack.fleet.agents.fleet_server.hosts: [""]

# =================== Index Management ===================

# Index management UI
#xpack.index_management.enabled: true

# =================== License Management ===================

# License management UI
#xpack.license_management.enabled: true

# =================== Rollup Configuration ===================

# Rollup UI
#xpack.rollup.enabled: true

# =================== Snapshot and Restore ===================

# Snapshot and restore UI
#xpack.snapshot_restore.enabled: true

# =================== Upgrade Assistant ===================

# Upgrade assistant UI
#xpack.upgrade_assistant.enabled: true

# =================== Watcher Configuration ===================

# Watcher UI
#xpack.watcher.enabled: true

# =================== Transform Configuration ===================

# Transform UI
#xpack.transform.enabled: true

# =================== Cross Cluster Replication ===================

# CCR UI
#xpack.ccr.enabled: true

# =================== Index Lifecycle Management ===================

# ILM UI
#xpack.index_lifecycle_management.enabled: true

# =================== Ingest Pipelines ===================

# Ingest pipelines UI
#xpack.ingest_pipelines.enabled: true

# =================== Remote Clusters ===================

# Remote clusters UI
#xpack.remote_clusters.enabled: true

# =================== Security ===================

# Login assistance message
#xpack.security.loginAssistanceMessage: "Welcome to CyberLab Security Monitoring"

# Login page customization
#xpack.security.loginHelp: "For assistance, contact your security administrator"

# =================== End of Configuration ===================
